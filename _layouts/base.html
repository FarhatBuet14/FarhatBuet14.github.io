<!doctype html>
<html lang="{{ site.locale | default: 'en' }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% if page.title and page.title != '' %}{{ page.title }} | {% endif %}{{ site.title }}</title>
  <meta name="description" content="{{ page.description | default: site.description }}">
  <link rel="icon" href="{{ '/assets/img/avatar.jpg' | relative_url }}">

  <link rel="stylesheet" href="{{ '/assets/css/kearney.css' | relative_url }}">
  <!-- Custom overrides (e.g., software page image sizing) -->
  <link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

</head>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const btn = document.querySelector('.k-menu-btn');
    const nav = document.querySelector('#k-mobile-nav');
    if (!btn || !nav) return;
  
    function setOpen(open){
      btn.setAttribute('aria-expanded', open ? 'true' : 'false');
      if (open){
        nav.hidden = false;
        nav.classList.add('is-open');
      } else {
        nav.classList.remove('is-open');
        nav.hidden = true;
      }
    }
  
    // start closed
    setOpen(false);
  
    btn.addEventListener('click', function (e) {
      e.preventDefault();
      e.stopPropagation();
      const isOpen = btn.getAttribute('aria-expanded') === 'true';
      setOpen(!isOpen);
    });
  
    // close after click on a link
    nav.addEventListener('click', function (e) {
      if (e.target && e.target.tagName === 'A') setOpen(false);
    });
  
    // close when tapping outside
    document.addEventListener('click', function (e) {
      const isOpen = btn.getAttribute('aria-expanded') === 'true';
      if (!isOpen) return;
      if (btn.contains(e.target) || nav.contains(e.target)) return;
      setOpen(false);
    });
  });
</script>  
<body class="{% if page.layout %}layout-{{ page.layout }}{% endif %}">
  {{ content }}
</body>
</html>
